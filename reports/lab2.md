## Lab2 报告
### 功能实现
+ 重新实现了sys_task_info函数和sys_get_time函数
    + 使用提供的函数转化地址，通过指针赋值
+ 实现mmap和munmap
    + 申请空间和释放空间
    + 检查空间合法

### 问题回答
1. 
+ 页表项，高54位为物理页号，低10位是标志位
+ 仅当 V(Valid) 位为 1 时，页表项才是合法的
+ R/W/X 是否允许读/写/取指
+ U 控制索引到这个页表项的对应虚拟页面是否在 CPU 处于 U 特权级的情况下是否被允许访问
+ A(Accessed) 是否被访问过
+ D(Dirty) 是否被修改过
2.
+ 1.
    + load/store/instruction page fault`
+ 2
    + scause - `scause::FAULT_LOAD_PAGE` /`scause::FAULT_STORE_PAGE` /`scause::FAULT_FETCH_PAGE`
    + stval：缺页的虚拟地址
+ 3
    + 节省内存，减少开销
+ 4
    + 每个页表项对应 4KB 页面
    + 10GB 的内存空间 = 10 * 1024 * 1024 * 1024 字节 = 10,737,418,240 字节
    + 10GB 页表项数量 = 10,737,418,240 / 4,096 ≈ 2,621,440 页
    + 页表总大小 = 2,621,440 * 8 字节 ≈ 20MB
+ 5
    + 访问时触发缺页异常，查找或分配物理页面，当页面成功加载到物理内存中后，有效位V置 1，执行恢复操作，这样下一次访问该页面时，该页面的页表项有效，就不会再次触发缺页异常
    + 检查页表项，若有效位V为 0，分配/加载页面，页面加载后，有效位V置 1，并根据需要设置页面的读写权限标志，执行恢复操作
+ 6
    + 换一个标志位

3.
+ 1
    + 更新satp寄存器来更换页表
+ 2
    + 使用U标志位可以代表仅能在用户态访问
+ 3
    + 单页表设计相对简单，因为只需要维护一个页表
+ 4
    + 在系统调用时更换页表
    + 在进程切换时更换页表
### 荣誉准则
1. 在完成本次实验的过程（含此前学习的过程）中，我曾分别与 以下各位 就（与本次实验相关的）以下方面做过交流，还在代码中对应的位置以注释形式记录了具体的交流对象及内容：

    无

2. 此外，我也参考了 以下资料 ，还在代码中对应的位置以注释形式记录了具体的参考来源及内容：

    https://learningos.cn/rCore-Camp-Guide-2024A/  

3. 我独立完成了本次实验除以上方面之外的所有工作，包括代码与文档。 我清楚地知道，从以上方面获得的信息在一定程度上降低了实验难度，可能会影响起评分。

4. 我从未使用过他人的代码，不管是原封不动地复制，还是经过了某些等价转换。 我未曾也不会向他人（含此后各届同学）复制或公开我的实验代码，我有义务妥善保管好它们。 我提交至本实验的评测系统的代码，均无意于破坏或妨碍任何计算机系统的正常运转。 我清楚地知道，以上情况均为本课程纪律所禁止，若违反，对应的实验成绩将按“-100”分计。